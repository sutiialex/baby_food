(this["webpackJsonpbaby-food"]=this["webpackJsonpbaby-food"]||[]).push([[0],{17:function(e,n,a){e.exports=a(35)},22:function(e,n,a){},23:function(e,n,a){},35:function(e,n,a){"use strict";a.r(n);var t=a(1),o=a.n(t),r=a(16),u=a.n(r),l=(a(22),a(11)),i=a(3),m=a(12),d=(a(23),a(13)),c=a.n(d);c.a.initializeApp({apiKey:"AIzaSyDZnw05t_TsI_B25nINqj7dzSkVS3ADx9Q",authDomain:"babyfood-f264c.firebaseapp.com",databaseURL:"https://babyfood-f264c.firebaseio.com",projectId:"babyfood-f264c",storageBucket:"babyfood-f264c.appspot.com",messagingSenderId:"33974663086",appId:"1:33974663086:web:fc8a8b6813021046c7ba3f"});var p=c.a.database();c.a.auth().signInAnonymously();var s,v=function(){return Math.random()},f={allowedFoods:(s=[{name:"Pindakaas",period:{amount:7,unit:"Day"},portion:{amount:7,unit:"Table Spoon"}},{name:"Egg",period:{amount:7,unit:"Day"},portion:{amount:7,unit:"Table Spoon"}},{name:"Water",period:{amount:1,unit:"Day"}},{name:"Light fruit tea",period:{amount:1,unit:"Day"}},{name:"Vitamin D",period:{amount:1,unit:"Day"},portion:{amount:10,unit:"Drop"}},{name:"Bread",period:{amount:2,unit:"Day"}},{name:"Hrisca"},{name:"Orez"},{name:"Amaranth"},{name:"Rosii"},{name:"Castraveti"},{name:"Peste",period:{amount:3,unit:"Day"}},{name:"Carne",period:{amount:3,unit:"Day"}},{name:"Dovleac"},{name:"Dovlecel"},{name:"Vinata"},{name:"Mar"},{name:"Para"},{name:"Alac"},{name:"Nuci",period:{amount:7,unit:"Day"}},{name:"Cashew",period:{amount:8,unit:"Day"}},{name:"Hazelnuts",period:{amount:7,unit:"Day"}},{name:"Pecan",period:{amount:9,unit:"Day"}},{name:"Fasole",period:{amount:9,unit:"Day"}},{name:"Mazare",period:{amount:9,unit:"Day"}},{name:"Bob",period:{amount:11,unit:"Day"}},{name:"Linte",period:{amount:9,unit:"Day"}},{name:"Creveti",period:{amount:11,unit:"Day"}},{name:"Mango"},{name:"Banana"},{name:"Sparanghel"},{name:"Andiva"},{name:"Salata"},{name:"Varza"},{name:"Brocoli"},{name:"Conopida"},{name:"Boerenkool"},{name:"Plaintain"},{name:"Casava"},{name:"Capsuni"},{name:"Zmeura"},{name:"Plumbs"},{name:"Melon"},{name:"Cottage cheese"}],s.map((function(e){return{id:v(),name:e.name,period:e.period||{amount:null,unit:"Day"},portion:e.portion||{amount:null,unit:"Table Spoon"}}}))),consumed:[]},E=function(e){p.ref("/food").set(e).then()},b=function(e){var n=e.foodState,a=n.allowedFoods,t=n.consumed,r=e.onConsumeAdd,u=t.reverse(),l=a.map((function(e){var n,a=null===(n=u.find((function(n){return n.foodId===e.id})))||void 0===n?void 0:n.date,t=(a?new Date(a):void 0)||new Date(2020,1,1),o=Math.floor(((new Date).getTime()-t.getTime())/864e5),r=null!==e.period.amount&&o>e.period.amount?o-e.period.amount:void 0;return Object(i.a)({},e,{daysNotConsumed:o,daysOverdue:r})})).sort((function(e,n){return void 0!==e.daysOverdue&&void 0!==n.daysOverdue?n.daysOverdue-e.daysOverdue:void 0!==e.daysOverdue?-1:void 0!==n.daysOverdue?1:n.daysNotConsumed-e.daysNotConsumed}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Next up:"),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Food"),o.a.createElement("th",null,"Days Overdue"),o.a.createElement("th",null,"Days not consumed"))),o.a.createElement("tbody",null,l.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.name),o.a.createElement("td",null,e.daysOverdue),o.a.createElement("td",null,e.daysNotConsumed),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){r({foodId:e.id,date:(new Date).toDateString()})}},"Consumed today")))})))))},y=function(e,n){return e.map((function(e){return e.id===n.id?n:e}))},h=function(e){var n,a,r=e.foods,u=e.onFoodsChanged,d={name:null,portion:{amount:null,unit:"Table Spoon"},period:{amount:null,unit:"Day"}},c=Object(t.useState)(d),p=Object(m.a)(c,2),s=p[0],f=p[1],E=function(e){return function(n){var a,t=parseInt(n.target.value);t!==(null===(a=e.period)||void 0===a?void 0:a.amount)&&u(y(r,isNaN(t)?Object(i.a)({},e,{period:Object(i.a)({},e.period,{amount:null})}):Object(i.a)({},e,{period:{amount:t,unit:"Day"}})))}},b=function(e){return function(n){var a,t,o=parseInt(n.target.value);o!==(null===(a=e.portion)||void 0===a?void 0:a.amount)&&u(y(r,isNaN(o)?Object(i.a)({},e,{portion:Object(i.a)({},e.portion,{amount:null})}):Object(i.a)({},e,{portion:{amount:o,unit:(null===(t=e.portion)||void 0===t?void 0:t.unit)||"Table Spoon"}})))}},h=function(e){return function(n){var a,t=n.target.value;t!==(null===(a=e.portion)||void 0===a?void 0:a.unit)&&u(y(r,Object(i.a)({},e,{portion:{amount:null,unit:t}})))}};return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Allowed Foods"),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Food"),o.a.createElement("th",null,"Period"),o.a.createElement("th",null,"Portion"))),o.a.createElement("tbody",null,r.map((function(e){var n,a;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,o.a.createElement("input",{onChange:(a=e,function(e){var n=e.target.value;n!==a.name&&u(y(r,Object(i.a)({},a,{name:n})))}),value:e.name})),o.a.createElement("td",null,o.a.createElement("input",{type:"number",onChange:E(e),value:e.period.amount||void 0}),"days"),o.a.createElement("td",null,o.a.createElement("input",{type:"number",onChange:b(e),value:e.portion.amount||void 0}),o.a.createElement("select",{onChange:h(e),value:null===(n=e.portion)||void 0===n?void 0:n.unit},o.a.createElement("option",{value:"Table Spoon"},"Table Spoon"),o.a.createElement("option",{value:"Tea Spoon"},"Tea Spoon"),o.a.createElement("option",{value:"Drop"},"Drop"),o.a.createElement("option",{value:"Glass"},"Glass"))),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){return u(r.filter((function(n){return n.name!==e.name})))}},"Delete")))})),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("input",{onChange:function(e){return f(Object(i.a)({},s,{name:e.target.value}))},value:s.name||void 0})),o.a.createElement("td",null,o.a.createElement("input",{type:"number",onChange:function(e){return f(Object(i.a)({},s,{period:{amount:parseInt(e.target.value),unit:"Day"}}))},value:s.period.amount||void 0}),"days"),o.a.createElement("td",null,o.a.createElement("input",{type:"number",onChange:function(e){return f(Object(i.a)({},s,{portion:{amount:parseInt(e.target.value),unit:"Table Spoon"}}))},value:(null===(n=s.portion)||void 0===n?void 0:n.amount)||void 0}),o.a.createElement("select",{onChange:function(e){var n;return f(Object(i.a)({},s,{portion:{amount:(null===(n=s.portion)||void 0===n?void 0:n.amount)||null,unit:e.target.value}}))},value:null===(a=s.portion)||void 0===a?void 0:a.unit},o.a.createElement("option",{value:"Table Spoon"},"Table Spoon"),o.a.createElement("option",{value:"Tea Spoon"},"Tea Spoon"),o.a.createElement("option",{value:"Drop"},"Drop"),o.a.createElement("option",{value:"Glass"},"Glass"))),o.a.createElement("td",null,o.a.createElement("button",{disabled:void 0===s.name,onClick:function(){var e=s.name;e&&u([].concat(Object(l.a)(r),[{id:v(),name:e,period:s.period,portion:s.portion}])),f(d)}},"Add"))))))},g=function(e){var n=e.foodState,a=n.consumed,t=n.allowedFoods;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Consumed:"),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Food"),o.a.createElement("th",null,"Date"))),o.a.createElement("tbody",null,a.reverse().map((function(e){return o.a.createElement("tr",{key:e.date+e.foodId},o.a.createElement("td",null,function(e){var n;return null===(n=t.find((function(n){return n.id===e})))||void 0===n?void 0:n.name}(e.foodId)),o.a.createElement("td",null,e.date))})))))};var D=function(){var e=Object(t.useState)(),n=Object(m.a)(e,2),a=n[0],r=n[1];return Object(t.useEffect)((function(){var e;e=r,p.ref("/food").once("value").then((function(n){var a=n.val();a?e(a):(E(f),e(f))}))}),[]),Object(t.useEffect)((function(){a&&E(a)}),[a]),void 0===a?o.a.createElement("div",null,"Loading..."):o.a.createElement(o.a.Fragment,null,o.a.createElement(g,{foodState:a}),o.a.createElement(b,{foodState:a,onConsumeAdd:function(e){return r(Object(i.a)({},a,{consumed:[].concat(Object(l.a)(null===a||void 0===a?void 0:a.consumed),[e])}))}}),o.a.createElement(h,{foods:a.allowedFoods,onFoodsChanged:function(e){r(Object(i.a)({},a,{allowedFoods:e}))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.b91655f6.chunk.js.map