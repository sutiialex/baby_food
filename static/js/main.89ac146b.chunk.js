(this["webpackJsonpbaby-food"]=this["webpackJsonpbaby-food"]||[]).push([[0],{13:function(e,n,t){},14:function(e,n,t){},15:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),l=t(7),r=t.n(l),i=(t(13),t(4)),u=t(1),d=t(5),m=(t(14),function(){return Math.random()}),c={allowedFoods:[{id:m(),name:"Pindakaas",period:{amount:7,unit:"Day"},portion:{amount:7,unit:"Table Spoon"}},{id:m(),name:"Egg",period:{amount:7,unit:"Day"},portion:{amount:7,unit:"Table Spoon"}},{id:m(),name:"Water",period:{amount:1,unit:"Day"}},{id:m(),name:"Light fruit tea",period:{amount:1,unit:"Day"}},{id:m(),name:"Vitamin D",period:{amount:1,unit:"Day"},portion:{amount:10,unit:"Drop"}},{id:m(),name:"Bread",period:{amount:2,unit:"Day"}},{id:m(),name:"Hrisca"},{id:m(),name:"Orez"},{id:m(),name:"Amaranth"},{id:m(),name:"Rosii"},{id:m(),name:"Castraveti"},{id:m(),name:"Peste",period:{amount:3,unit:"Day"}},{id:m(),name:"Carne",period:{amount:3,unit:"Day"}},{id:m(),name:"Dovleac"},{id:m(),name:"Dovlecel"},{id:m(),name:"Vinata"},{id:m(),name:"Mar"},{id:m(),name:"Para"},{id:m(),name:"Alac"},{id:m(),name:"Nuci",period:{amount:7,unit:"Day"}},{id:m(),name:"Cashew",period:{amount:8,unit:"Day"}},{id:m(),name:"Hazelnuts",period:{amount:7,unit:"Day"}},{id:m(),name:"Pecan",period:{amount:9,unit:"Day"}},{id:m(),name:"Fasole",period:{amount:9,unit:"Day"}},{id:m(),name:"Mazare",period:{amount:9,unit:"Day"}},{id:m(),name:"Bob",period:{amount:11,unit:"Day"}},{id:m(),name:"Linte",period:{amount:9,unit:"Day"}},{id:m(),name:"Creveti",period:{amount:11,unit:"Day"}},{id:m(),name:"Mango"},{id:m(),name:"Banana"},{id:m(),name:"Sparanghel"},{id:m(),name:"Andiva"},{id:m(),name:"Salata"},{id:m(),name:"Varza"},{id:m(),name:"Brocoli"},{id:m(),name:"Conopida"},{id:m(),name:"Boerenkool"},{id:m(),name:"Plaintain"},{id:m(),name:"Casava"},{id:m(),name:"Capsuni"},{id:m(),name:"Zmeura"},{id:m(),name:"Plumbs"},{id:m(),name:"Melon"},{id:m(),name:"Cottage cheese"}],consumed:[]},v=function(e){var n=e.foodState,t=n.allowedFoods,a=n.consumed,l=e.onConsumeAdd,r=a.reverse(),i=t.map((function(e){var n,t=(null===(n=r.find((function(n){return n.foodId===e.id})))||void 0===n?void 0:n.date)||new Date(2020,1,1),a=Math.floor(((new Date).getTime()-t.getTime())/864e5),o=void 0!==e.period&&a>e.period.amount?a-e.period.amount:void 0;return Object(u.a)({},e,{daysNotConsumed:a,daysOverdue:o})})).sort((function(e,n){return void 0!==e.daysOverdue&&void 0!==n.daysOverdue?n.daysOverdue-e.daysOverdue:void 0!==e.daysOverdue?-1:void 0!==n.daysOverdue?1:n.daysNotConsumed-e.daysNotConsumed}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Next up:"),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Food"),o.a.createElement("th",null,"Days Overdue"),o.a.createElement("th",null,"Days not consumed"))),o.a.createElement("tbody",null,i.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.name),o.a.createElement("td",null,e.daysOverdue),o.a.createElement("td",null,e.daysNotConsumed),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){l({foodId:e.id,date:new Date})}},"Consumed today")))})))))},p=function(e,n){return e.map((function(e){return e.id===n.id?n:e}))},s=function(e){var n,t,l,r=e.foods,c=e.onFoodsChanged,v=Object(a.useState)({}),s=Object(d.a)(v,2),E=s[0],f=s[1],b=function(e){return function(n){var t,a=parseInt(n.target.value);a!==(null===(t=e.period)||void 0===t?void 0:t.amount)&&c(p(r,Object(u.a)({},e,{period:{amount:a,unit:"Day"}})))}},y=function(e){return function(n){var t,a,o=parseInt(n.target.value);o!==(null===(t=e.portion)||void 0===t?void 0:t.amount)&&c(p(r,Object(u.a)({},e,{portion:{amount:o,unit:(null===(a=e.portion)||void 0===a?void 0:a.unit)||"Table Spoon"}})))}},h=function(e){return function(n){var t,a=n.target.value;a!==(null===(t=e.portion)||void 0===t?void 0:t.unit)&&c(p(r,Object(u.a)({},e,{portion:{amount:void 0,unit:a}})))}};return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Allowed Foods"),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Food"),o.a.createElement("th",null,"Period"),o.a.createElement("th",null,"Portion"))),o.a.createElement("tbody",null,r.map((function(e){var n,t,a,l;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,o.a.createElement("input",{onChange:(l=e,function(e){var n=e.target.value;n!==l.name&&c(p(r,Object(u.a)({},l,{name:n})))}),value:e.name})),o.a.createElement("td",null,o.a.createElement("input",{type:"number",onChange:b(e),value:null===(n=e.period)||void 0===n?void 0:n.amount}),"days"),o.a.createElement("td",null,o.a.createElement("input",{type:"number",onChange:y(e),value:null===(t=e.portion)||void 0===t?void 0:t.amount}),o.a.createElement("select",{onChange:h(e),value:null===(a=e.portion)||void 0===a?void 0:a.unit},o.a.createElement("option",{value:"Table Spoon"},"Table Spoon"),o.a.createElement("option",{value:"Tea Spoon"},"Tea Spoon"),o.a.createElement("option",{value:"Drop"},"Drop"),o.a.createElement("option",{value:"Glass"},"Glass"))),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){return c(r.filter((function(n){return n.name!==e.name})))}},"Delete")))})),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("input",{onChange:function(e){return f(Object(u.a)({},E,{name:e.target.value}))},value:E.name})),o.a.createElement("td",null,o.a.createElement("input",{type:"number",onChange:function(e){return f(Object(u.a)({},E,{period:{amount:parseInt(e.target.value),unit:"Day"}}))},value:null===(n=E.period)||void 0===n?void 0:n.amount}),"days"),o.a.createElement("td",null,o.a.createElement("input",{type:"number",onChange:function(e){return f(Object(u.a)({},E,{portion:{amount:parseInt(e.target.value),unit:"Table Spoon"}}))},value:null===(t=E.portion)||void 0===t?void 0:t.amount}),o.a.createElement("select",{onChange:function(e){return f(Object(u.a)({},E,{portion:Object(u.a)({},E.portion,{unit:e.target.value})}))},value:null===(l=E.portion)||void 0===l?void 0:l.unit},o.a.createElement("option",{value:"Table Spoon"},"Table Spoon"),o.a.createElement("option",{value:"Tea Spoon"},"Tea Spoon"),o.a.createElement("option",{value:"Drop"},"Drop"),o.a.createElement("option",{value:"Glass"},"Glass"))),o.a.createElement("td",null,o.a.createElement("button",{disabled:void 0===E.name,onClick:function(){var e=E.name;void 0!==e&&c([].concat(Object(i.a)(r),[Object(u.a)({},E,{id:m(),name:e})])),f({})}},"Add"))))))},E=function(e){var n=e.foodState,t=n.consumed,a=n.allowedFoods;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Consumed:"),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Food"),o.a.createElement("th",null,"Date"))),o.a.createElement("tbody",null,t.reverse().map((function(e){return o.a.createElement("tr",{key:e.date.toDateString()+e.foodId},o.a.createElement("td",null,function(e){var n;return null===(n=a.find((function(n){return n.id===e})))||void 0===n?void 0:n.name}(e.foodId)),o.a.createElement("td",null,e.date.toDateString()))})))))};var f=function(){var e=Object(a.useState)(),n=Object(d.a)(e,2),t=n[0],l=n[1];return Object(a.useEffect)((function(){l(c)}),[]),Object(a.useEffect)((function(){t&&(c=t)}),[t]),void 0===t?o.a.createElement("div",null,"Loading..."):o.a.createElement(o.a.Fragment,null,o.a.createElement(E,{foodState:t}),o.a.createElement(v,{foodState:t,onConsumeAdd:function(e){return l(Object(u.a)({},t,{consumed:[].concat(Object(i.a)(null===t||void 0===t?void 0:t.consumed),[e])}))}}),o.a.createElement(s,{foods:t.allowedFoods,onFoodsChanged:function(e){l(Object(u.a)({},t,{allowedFoods:e}))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,n,t){e.exports=t(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.89ac146b.chunk.js.map